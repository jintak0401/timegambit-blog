---
title: '[JavaScript] Object.defineProperty ì •ë¦¬ (writable, enumerable, configurable, get, set)'
date: '2023-01-21'
lastmod: '2023-01-21'
tags: ['Object']
draft: false
series: ìë°”ìŠ¤í¬ë¦½íŠ¸ì™€ ë§ì§± ëœ¨ê¸°
summary: ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ Object.definePropertyê°€ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ì„¤ëª…í•˜ëŠ” í¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤.
images: [https://i.imgur.com/p5WKoaF.png]
layout: PostLayout
---

## ì´ ê¸€ì„ ì“°ê²Œ ëœ ê³„ê¸°
ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ async/await ë¬¸ë²•ì´ IEì—ì„œ ëŒì•„ê°€ê¸° ìœ„í•´ ES5ë¬¸ë²•ìœ¼ë¡œ ì–´ë–»ê²Œ ë³€í™˜ë˜ëŠ”ì§€ ë¶„ì„í•˜ë‹¤ê°€ ì•Œê²Œëœ ìƒˆë¡œìš´ ë‚´ìš©ì„ ì •ë¦¬í•©ë‹ˆë‹¤. ê¸°íšŒê°€ ëœë‹¤ë©´ [async/awaitì˜ ë™ì‘ì›ë¦¬](https://www.timegambit.com/blog/digging/async-await/01)ë„ ì½ì–´ë³´ì„¸ìš”! ê½¤ë‚˜ í¥ë¯¸ë¡œìš´ ì ë“¤ì„ ì•Œ ìˆ˜ ìˆê²Œ ë ì§€ë„ ëª°ë¼ìš”! ğŸ™ƒ

## ê°ì²´ì— ê°’ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•
ëˆ„êµ°ê°€ ì—¬ëŸ¬ë¶„ì—ê²Œ ê°ì²´ì— ê°’ì„ ì–´ë–»ê²Œ ì„¤ì •í•˜ëƒê³  ë¬»ëŠ”ë‹¤ë©´ ê±°ì˜ ëŒ€ë¶€ë¶„ `obj.key = value`ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ê°’ì„ ì„¤ì •í•œë‹¤ê³  ëŒ€ë‹µí•  ê²ƒì…ë‹ˆë‹¤. ê·¸ ì™¸ì— ë‹¤ë¥¸ ë°©ë²•ì´ ìˆë‹¤ëŠ” ê²ƒ ì•„ì‹œë‚˜ìš”? ê·¸ ë°©ë²•ì€ `Object.defineProperty`ì…ë‹ˆë‹¤. ì´ ë°©ë²•ì— ëŒ€í•´ ì–¼ë§ˆë‚˜ ì•„ì‹œë‚˜ìš”? ì‚¬ìš©í•´ë³¸ ê²½í—˜ì€ ìˆìœ¼ì‹ ê°€ìš”? ì €ëŠ” ìˆë‹¤ëŠ” ê²ƒë§Œ ì•Œê³ ìˆê³  ì‚¬ìš©í•´ë³´ì§€ëŠ” ì•Šì•˜ìŠµë‹ˆë‹¤. ê·¸ëŸ°ë° ìƒê°ë³´ë‹¤ ì—¬ëŸ¬ê°€ì§€ ê¸°ëŠ¥ë“¤ì´ ìˆì—ˆìŠµë‹ˆë‹¤.

## Object.defineProperty
```js
const obj = {};
Object.defineProperty(obj, 'key', {
  value: 10,
  writable: true,
  enumerable: true,
  configurable: true,
});
```
`Object.defineProperty`ì˜ 3ë²ˆì§¸ ì¸ìì¸ descriptor ê°ì²´ì—ëŠ” 6ê°œì˜ ì†ì„±ì„ ë„£ì–´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* `value`: obj.keyì— ì„¤ì •ë  ê°’. ê¸°ë³¸ê°’ì€ undefined
* `writable`: ê°’ì´ ë³€ê²½ ê°€ëŠ¥í•œì§€ ì—¬ë¶€. ê¸°ë³¸ê°’ì€ false
* `enumerable`: ì—´ê±° ê°€ëŠ¥í•œì§€ ì—¬ë¶€. ê¸°ë³¸ê°’ì€ false
* `configurable`: ê°ì²´ì—ì„œì˜ ì‚­ì œ ê°€ëŠ¥ ì—¬ë¶€ì™€ descriptorì˜ ì†ì„±ë“¤ì„ ì¶”í›„ì— ë³€ê²½í•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€. ê¸°ë³¸ê°’ì€ false
* `get`: getter í•¨ìˆ˜ë¡œ obj.keyì— ì ‘ê·¼í•  ë•Œ ë™ì‘í•˜ë©°, ì´ í•¨ìˆ˜ì˜ return ê°’ì„ obj.keyë¡œ ê°€ì§‘ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ undefined
* `set`: setter í•¨ìˆ˜ë¡œ obj.keyì— ê°’ì„ í• ë‹¹í•  ë•Œ ë™ì‘í•˜ë©°, í• ë‹¹í•  ê°’ì´ ì¸ìë¡œ ë“¤ì–´ì˜µë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ undefined

<Alert type="danger">
  **[value, writable]ê³¼ [get, set]ì€ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.** ì¦‰, ë‹¤ìŒê³¼ ê°™ì´ [value, writable] ì¤‘ í•˜ë‚˜(ë˜ëŠ” ì „ì²´)ì™€ [get, set] ì¤‘ í•˜ë‚˜(ë˜ëŠ” ì „ì²´)ë¥¼ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
  ```js
  Object.defineProperty(obj, 'key', {
    value: 10,
    get() {
      return 10;
    },
  });
  ```
</Alert>

```js
const obj = {};

Object.defineProperty(obj, 'name', {
  value: 'timegambit'
});
console.log(Object.getOwnPropertyDescriptor(obj, 'name')); // â“

obj.birth = 1996;
console.log(Object.getOwnPropertyDescriptor(obj, 'birth')); // â“‘

/************* ê²°ê³¼ *************/
{ value: 'timegambit', writable: false, enumerable: false, configurable: false } // â“
{ value: 1996, writable: true, enumerable: true, configurable: true } // â“‘
```
ìœ„ì—ì„œ `writable`, `enumerable`, `configurable`ì˜ ê¸°ë³¸ê°’ì€ falseë¼ê³  í–ˆìŠµë‹ˆë‹¤. ì´ ê¸°ë³¸ê°’ì€ `Object.defineProperty`ë¥¼ ì‚¬ìš©í•˜ì—¬ `value`ë¥¼ ì„¤ì •í•  ë•Œë§Œ ì ìš©ë©ë‹ˆë‹¤. `obj.birth = 1996`ê³¼ ê°™ì´ ê°’ì„ ì„¤ì •í•  ë•Œì—ëŠ” `writable`, `enumerable`, `configurable`ì˜ ê°’ì´ trueë¡œ ì„¤ì •ë©ë‹ˆë‹¤.

### writable
```js
const obj = {
  name: 'jintak',
};

obj.name = 'timegambit';

console.log(obj.name); // timegambit

Object.defineProperty(obj, 'name', {
  writable: false,
});

obj.name = 'jintak';

console.log(obj.name); // timegambit

Object.defineProperty(obj, 'name', {
  value: 'jintak'
})

console.log(obj.name); // jintak

(() => {
  'use strict';
  obj.name = 'jintak';
})(); // ì—ëŸ¬ ë°œìƒ
```
`writable`ì´ falseì´ë©´ `obj.key = value` ë°©ì‹ìœ¼ë¡œëŠ” ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. `writable`ì´ falseì¼ ë•Œ `obj.key = value`ë¡œ ê°’ì„ ë³€ê²½í•˜ë ¤ê³  ì‹œë„í•˜ë©´, **strict modeê°€ ì•„ë‹ ê²½ìš°ì—ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šê³  ë¬´ì‹œë˜ë©°, strict modeì¼ ê²½ìš°ì—ëŠ” ë™ì¼í•œ ê°’ì„ í• ë‹¹í•˜ë ¤ í•´ë„ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.** í•˜ì§€ë§Œ `Object.defineProperty`ë¥¼ ì‚¬ìš©í•˜ì—¬ `value`ë¥¼ ë³€ê²½í•  ìˆ˜ëŠ” ìˆìŠµë‹ˆë‹¤.

### enumerable
```js
const obj = {
  name: 'jintak',
  birth: 1996,
  nationality: 'korea'
};

console.log(Object.keys(obj)); // [ 'name', 'birth', 'nationality' ]

// name: jintak
// birth: 1996
// nationality: korea
for (const key in obj) {
  console.log(`${key}: ${obj[key]}`);
}

Object.defineProperty(obj, 'name', {
  enumerable: false,
});

console.log(Object.keys(obj)); // [ 'birth', 'nationality' ]

// birth: 1996
// nationality: korea
for (const key in obj) {
  console.log(`${key}: ${obj[key]}`);
}

console.log(obj); // { birth: 1996, nationality: 'korea' }
console.log(obj.name); // jintak
```

`enumerable`ì´ falseì´ë©´ `Object.keys`ë‚˜ `for...in`ì„ ì‚¬ìš©í•˜ì—¬ ê°ì²´ì˜ í‚¤ë¥¼ ì—´ê±°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì‹¬ì§€ì–´ ë‹¨ìˆœíˆ ê°ì²´ë¥¼ ì¶œë ¥ë§Œ í•  ë•Œì—ë„ í•´ë‹¹ ì†ì„±ì´ ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ê°ì²´ ë‚´ì—ì„œ ì™„ì „íˆ ì‚¬ë¼ì§„ ê²ƒì€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— `obj.key`ì™€ ê°™ì´ ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ëŠ” ìˆìŠµë‹ˆë‹¤.

### configurable
`configurable` ì†ì„±ì€ ê°ì²´ì—ì„œ í•´ë‹¹ ì†ì„±ì˜ ì‚­ì œ ê°€ëŠ¥ ì—¬ë¶€ì™€ descriptorì˜ ë‹¤ë¥¸ ì†ì„±ë“¤ì˜ ë³€ê²½ ê°€ëŠ¥ ì—¬ë¶€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.

```js showLineNumbers
const obj = {
  name: 'jintak',
};

Object.defineProperty(obj, 'name', {
  configurable: false,
});

delete obj.name; // ë¬´ì‹œ, strict modeì¼ ê²½ìš° ì—ëŸ¬ ë°œìƒ
console.log(obj.name); // jintak

Object.defineProperty(obj, 'name', {
  value: 'timegambit',
});

console.log(obj.name); // timegambit

Object.defineProperty(obj, 'name', {
  writable: false,
});

console.log(obj.name); // timegambit

Object.defineProperty(obj, 'name', {
  writable: true,
}); // ì—ëŸ¬ ë°œìƒ

Object.defineProperty(obj, 'name', {
  enumerable: false,
}); // ì—ëŸ¬ ë°œìƒ

Object.defineProperty(obj, 'name', {
  configurable: true,
}); // ì—ëŸ¬ ë°œìƒ

Object.defineProperty(obj, 'name', {
  get() { ... },
}); // ì—ëŸ¬ ë°œìƒ

Object.defineProperty(obj, 'name', {
  set() { ... },
}); // ì—ëŸ¬ ë°œìƒ
```
`configurable`ì´ falseì´ë©´ `delete`ë¡œ ê°ì²´ì—ì„œ í•´ë‹¹ ì†ì„±ì„ ì‚­ì œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. strict modeì¼ ë•Œ ì‚­ì œë¥¼ ì‹œë„í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤. ë˜í•œ `enumerable`, `configurable`, `get`, `set`ì„ ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

`writable`ê³¼ `value`ì— ëŒ€í•´ì„œëŠ” ë‹¤ì†Œ ë‹¤ë¥´ê²Œ ë™ì‘í•©ë‹ˆë‹¤. ê¸°ì¡´ì˜ `writable`ì´ trueì˜€ì„ ê²½ìš° `writable` ë° `value`ì˜ ë³€ê²½ì€ ê°€ëŠ¥í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ `writable`ì„ falseë¡œ ë³€ê²½í•˜ì˜€ì„ ê²½ìš° `writable`ì„ ë‹¤ì‹œ ë³€ê²½í•˜ëŠ” ê²ƒê³¼ `value`ë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

### get, set
`get`ê³¼ `set`ì— ëŒ€í•œ ì˜ˆì œëŠ” [MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty#inheritance_of_properties)ì— ì¢‹ì€ ì˜ˆì œê°€ ìˆì–´ì„œ ê·¸ëŒ€ë¡œ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.

```js:1ë²ˆ-ì˜ˆì œ showLineNumbers
function MyClass() {}

let value;
Object.defineProperty(MyClass.prototype, "x", {
  get() {
    return value;
  },
  set(x) {
    value = x;
  },
});

const a = new MyClass();
const b = new MyClass();
a.x = 1;
console.log(b.x); // 1
```
15ë²ˆ ë¼ì¸ì˜ `a.x = 1`ì„ í†µí•´ 8ë²ˆ ë¼ì¸ì˜ `set(x)`ê°€ í˜¸ì¶œë©ë‹ˆë‹¤. ì´ ë•Œ xì—ëŠ” =ì˜ ì˜¤ë¥¸ìª½ì— ìˆë˜ ê°’ì¸ 1ì´ ë“¤ì–´ê°€ê²Œ ë©ë‹ˆë‹¤. 16ë²ˆ ë¼ì¸ì˜ `b.x`ë¥¼ í†µí•´ 5ë²ˆ ë¼ì¸ì˜ `get()`ì„ í˜¸ì¶œí•˜ê²Œ ë©ë‹ˆë‹¤. `b.x`ëŠ” `get()` í•¨ìˆ˜ì˜ return ê°’ì¸ `value(= 1)`ê°€ ë˜ì–´ 1ì„ ì¶œë ¥í•©ë‹ˆë‹¤.

```js:2ë²ˆ-ì˜ˆì œ
function MyClass() {}

Object.defineProperty(MyClass.prototype, "x", {
  get() {
    return this.storedX;
  },
  set(x) {
    this.storedX = x;
  },
});

const a = new MyClass();
const b = new MyClass();
a.x = 1;
console.log(b.x); // undefined
```
ìœ„ì™€ ê°™ì´ `this`ë¥¼ ì´ìš©í•´ ê°ì²´ì˜ ìƒˆë¡œìš´ ì†ì„±ìœ¼ë¡œ ê°’ì„ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `get()`ê³¼ `set()` ì•ˆì˜ `this`ëŠ” ê°ì²´ ìì²´ë¥¼ ê°€ë¦¬í‚¤ê²Œ ë©ë‹ˆë‹¤.

### ìƒì†ê³¼ ê´€ë ¨í•˜ì—¬ ì£¼ì˜í•  ì 
```js
function MyClass() {}

MyClass.prototype.x = 1;
Object.defineProperty(MyClass.prototype, "y", {
  writable: false,
  value: 1,
});

const a = new MyClass();
a.x = 2;
console.log(a.x); // 2
console.log(MyClass.prototype.x); // 1
a.y = 2; // ë¬´ì‹œ, strict modeì¼ ê²½ìš° ì—ëŸ¬ ë°œìƒ
console.log(a.y); // 1
console.log(MyClass.prototype.y); // 1
```
ê°ì²´ì— ì„¤ì •í•˜ëŠ” ê°’ë“¤ì€ í”„ë¡œí† íƒ€ì…ì´ ì•„ë‹Œ ê°ì²´ ìì²´ì— ì €ì¥ë©ë‹ˆë‹¤. í•˜ì§€ë§Œ `writable`ì´ falseì¸ ì†ì„±ì„ ìƒì†ë°›ê²Œ ë˜ë©´, ìƒì†ë°›ì€ ê°ì²´ë“¤ì˜ í•´ë‹¹ ì†ì„±ì€ ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

## ì°¸ì¡°

1. [MDN - Object.defineProperty()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty)